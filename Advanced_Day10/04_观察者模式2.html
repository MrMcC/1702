<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>观察者模式</title>
</head>
<body>
<button id="btn1">发布信息1</button>
<button id="btn2">发布信息2</button>
<script>
    /*被观察者  发布者  ：*/
    var publisher = {
        registerObserver(observer){/*注册观察者*/
            this.observer = observer;
        },
        publish(msg){  /*发布信息*/
            this.observer(msg);
        }
    }
    publisher.registerObserver(function (msg){  //传入的这个函数就是观察者。
        console.log("终于有房子降价了:" + msg);
    })
    
    btn1.onclick = function (){
        publisher.publish("100平 500万");
    }
    btn2.onclick = function (){
        publisher.publish("200平 500万");
    }
    
</script>
</body>
</html>
<!--
    作者：李振超  2017年5月24日14:04
    观察者模式  发布订阅模式  publish / subscribe
    
    售楼小姐        被观察者   发布者  publisher
    我              观察者    订阅者   subscriber
    
-->